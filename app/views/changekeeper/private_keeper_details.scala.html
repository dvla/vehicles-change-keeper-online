@(data: uk.gov.dvla.vehicles.presentation.common.model.VehicleAndKeeperDetailsModel,
        privateKeeperDetailsForm: Form[models.PrivateKeeperDetailsFormModel]
)(implicit lang: Lang,
    token: uk.gov.dvla.vehicles.presentation.common.filters.CsrfPreventionAction.CsrfPreventionToken,
    config: utils.helpers.Config)

@import controllers.routes.BeforeYouStart
@import controllers.routes.VehicleLookup
@import controllers.routes.PrivateKeeperDetails
@import views.html.helper.form
@import views.changekeeper.PrivateKeeperDetails.{BackId, SubmitId}
@import uk.gov.dvla.vehicles.presentation.common
@import common.mappings.Email.EmailMaxLength
@import common.views.html.widgets.base.valtechSelect
@import common.views.html.widgets.base.csrfTokenHiddenField
@import common.views.html.widgets.dates.valtechDate
@import common.views.helpers.BaseTemplate.fieldConstructor
@import common.views.html.widgets.base.valtechInputText
@import common.views.html.widgets.titlePicker
@import common.mappings.Postcode
@import models.PrivateKeeperDetailsFormModel.Form.{TitleId, DateOfBirthId, EmailId, FirstNameId, FirstNameAndTitleMaxLength, PostcodeId}
@import models.PrivateKeeperDetailsFormModel.Form.{LastNameId, LastNameMaxLength, DriverNumberId, DriverNumberMaxLength}

@main(
    progress = Some(Messages("change_keeper_progress_3")),
    title = Messages("change_keeper_privatekeeperdetails.title"),
    currentForm = Some(privateKeeperDetailsForm)
){
    @form(action = PrivateKeeperDetails.submit) {
    @csrfTokenHiddenField()

    <div class="two-col clearfix">

        <div class="first-col">
            <h1 class="mobile-only">@Messages("change_keeper_privatekeeperdetails.title")</h1>
            <dl class="playback">
                <dt><h2>@Messages("change_keeper_privatekeeperdetails.vehicledetails")</h2></dt>
                <dt>@Messages("change_keeper_privatekeeperdetails.vehiclereg")</dt>
                <dd>@data.registrationNumber</dd>
                <dt>@Messages("change_keeper_privatekeeperdetails.vehiclemake")</dt>
                <dd>@data.make</dd>
                <dt>@Messages("change_keeper_privatekeeperdetails.vehiclemodel")</dt>
                <dd>@data.model</dd>
            </dl>
            <div class="alert-warning print-message">
                <p><strong>@Messages("change_keeper_privatekeeperdetails.p3")</strong></p>
            </div>
        </div>

        <div class="second-col">

            <h1>@Messages("change_keeper_privatekeeperdetails.title")</h1>

            <p>@Messages("change_keeper_privatekeeperdetails.p1")</p>

            <div class="uppercase-input">
                @titlePicker(
                field = privateKeeperDetailsForm(TitleId),
                args = Map('autofocus ->true)
                )
            </div>
            <div class="uppercase-input">
                @valtechInputText(privateKeeperDetailsForm(FirstNameId), args =
                Map('_label -> Messages("change_keeper_privatekeeperdetails.firstnamelabel"),
                '_showConstraints -> false,
                'maxLength -> FirstNameAndTitleMaxLength
                )
                )
            </div>
            <div class="uppercase-input">
                @valtechInputText(privateKeeperDetailsForm(LastNameId), args =
                Map('_label -> Messages("change_keeper_privatekeeperdetails.lastnamelabel"),
                '_showConstraints -> false,
                'maxLength -> LastNameMaxLength
                )
                )
            </div>

        </div>

        @valtechDate(
        privateKeeperDetailsForm(DateOfBirthId),
        Messages("change_keeper_privatekeeper_dateofbirth"),
        Some(Messages("change_keeper_privatekeeperdetails.dateofbirth.hint")
        ))

        <div class="uppercase-input">
            @valtechInputText(privateKeeperDetailsForm(DriverNumberId),
            hintText = Some(Messages("change_keeper_privatekeeperdetails.drivernumber.hint")),
            args = Map('_label -> Messages("change_keeper_privatekeeperdetails.drivernumberlabel"),
            '_showConstraints -> false,
            'maxLength -> DriverNumberMaxLength,
            'optionalFieldKey -> true
            )
            )
        </div>

        @valtechInputText(privateKeeperDetailsForm(EmailId), 
        hintText = Some(Messages("change_keeper_businesskeeperdetails.email.hint.alt")),
        args = Map('_label -> Messages("change_keeper_privatekeeperdetails.emaillabel"),
        '_showConstraints -> false,
        'maxLength -> EmailMaxLength
        )
        )

        <div class="uppercase-input">
            @valtechInputText(privateKeeperDetailsForm(PostcodeId),
            hintText = Some(Messages("acquire_privatekeeperdetails.postcode.hint")),
            args = Map('_label -> Messages("acquire_privatekeeperdetails.postcodelabel"),
            '_showConstraints -> false,
            'maxLength -> Postcode.MaxLength
            )
            )
        </div>

            <div class="form-steps">
                <button id="@SubmitId" type="submit" name="action" class="button">
                    @Messages("change_keeper_privatekeeperdetails.submitbutton")
                </button>
                <br/>
                <a class="back" id="@BackId" href="@controllers.routes.VehicleLookup.present()">
                    @Messages("change_keeper_privatekeeperdetails.backbutton")
                </a>
            </div>
        </div>
    </div>
    }

}